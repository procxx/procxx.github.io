<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>part382</TITLE>
</HEAD>
<BODY>

<UL>
<LI>
<A HREF="Part381.htm"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER></A><FONT COLOR="#009900"><FONT SIZE=-1>
Пред.Страница&nbsp;<A HREF="Part31.htm">&nbsp;<A HREF="Part39.htm"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15 ALIGN=ABSBOTTOM></A></A>
След.Страница&nbsp;<A HREF="Index3.htm"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15></A>&nbsp;
Раздел&nbsp;<A HREF="../section1/Index.htm#cont"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15></A>&nbsp;
Содержание</FONT></FONT></LI>
</UL>

<HR WIDTH="100%"><B><I><FONT COLOR="#3333FF"><FONT SIZE=+1>3.8.2&nbsp;
Выделение общих частей.&nbsp;</FONT></FONT></I></B>
<UL>Второй вид преобразований, который называют выделением общих частей,
применяют для устранения правил с одинаковыми левыми частями, правые части
которых&nbsp; начинаются одинаковыми последовательностями символов.
<BR>Например, рассмотрим грамматику с правилами
<UL>
<UL>
<UL>
<UL><FONT COLOR="#0000A0">&lt;I>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> a&lt;I>,</FONT>
<BR><FONT COLOR="#0000A0">&lt;I>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> a.</FONT></UL>
</UL>
</UL>
</UL>
Эта грамматика не является LL(1) грамматикой, т.к. значения функций ПЕРВ(a&lt;I>)
и ПЕРВ(a) совпадают. Введем дополнительный нетерминал A и преобразуем грамматику
так:
<UL>
<UL>
<UL>
<UL><FONT COLOR="#0000A0">&lt;I>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> a&lt;A>,</FONT>
<BR><FONT COLOR="#0000A0">&lt;A> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
&lt;I>|$.</FONT></UL>
</UL>
</UL>
</UL>
В этой грамматике отсутствуют правила с одинаковой левой частью, поэтому
для нее выполняется первое условие определения LL(1) грамматики. В общем
случае, если заданная грамматика содержит правила
<UL>
<UL>
<UL>
<UL><FONT COLOR="#0000A0">&lt;A>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> </FONT><FONT COLOR="#000099"><FONT FACE="Symbol">a</FONT>
µ<SUB>1</SUB> | <FONT FACE="Symbol">a</FONT> µ<SUB>2</SUB> | ... | <FONT FACE="Symbol">a</FONT></FONT><FONT COLOR="#0000A0">
µ<SUB>n</SUB> ,</FONT></UL>
</UL>
</UL>
</UL>
то, вводя дополнительный нетерминал &lt;A'>, их можно преобразовать к виду:
<UL>
<UL>
<UL>
<UL><FONT COLOR="#0000A0">&lt;A>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> </FONT><FONT FACE="Symbol"><FONT COLOR="#000099">a</FONT></FONT><FONT COLOR="#0000A0">
&lt;A'></FONT>
<BR><FONT COLOR="#0000A0">&lt;A'>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> µ<SUB>1</SUB>
| µ<SUB>2</SUB> | ... | µ<SUB>n</SUB>.</FONT></UL>
</UL>
</UL>
</UL>
Полученные правила могут быть использованы для построения LL(1) грамматики.
<BR>Покажем возможность применения этого вида преобразования на следующем
примере. Пусть дана грамматика .
<UL>
<UL><B><FONT COLOR="#0000A0">Г<SUB>3. 6</SUB></FONT></B><FONT COLOR="#0000A0">:&nbsp;&nbsp;&nbsp;
R = { &lt;I>&nbsp;</FONT><B><FONT COLOR="#000099"> <FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0">
b&lt;A>&lt;I>&lt;B></FONT>,
<UL><FONT COLOR="#0000A0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;I>&nbsp;</FONT><B><FONT COLOR="#000099"> <FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0">
b&lt;A>,</FONT>
<UL><FONT COLOR="#0000A0">&lt;A>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> d&lt;I>ca,</FONT>
<BR><FONT COLOR="#0000A0">&lt;A>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> f</FONT>,
<BR><FONT COLOR="#0000A0">&lt;B>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0">c&lt;A>a,</FONT>
<BR><FONT COLOR="#0000A0">&lt;B>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> c&nbsp; }.</FONT>
<UL>&nbsp;</UL>
</UL>
</UL>
</UL>
</UL>
Эта грамматика не является LL(1) грамматикой, поскольку нарушено первое
условие. Воспользуемся способом выделения общих частей: введем нетерминалы
D, E и построим правила:
<UL>
<UL>
<UL>
<UL><FONT COLOR="#0000A0">&lt;D>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> &lt;I>&lt;B>
| $</FONT>
<BR><FONT COLOR="#0000A0">&lt;E>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> &lt;A>a |
$ .</FONT></UL>
</UL>
</UL>
</UL>
В результате включения этих правил в схему грамматики получаем:
<UL>
<UL>
<UL>
<UL><FONT COLOR="#0000A0">&lt;I>&nbsp;</FONT><B><FONT COLOR="#000099">
<FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0"> b&lt;A>&lt;D></FONT>
<BR><FONT COLOR="#0000A0">&lt;D></FONT><B><FONT COLOR="#000099"> <FONT FACE="symbol">®</FONT></FONT></B><FONT COLOR="#0000A0">
&lt;I>&lt;B></FONT>
<BR><FONT COLOR="#0000A0">&lt;D> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
$</FONT>
<BR><FONT COLOR="#0000A0">&lt;A> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
d&lt;I>ca</FONT>
<BR><FONT COLOR="#0000A0">&lt;A> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
f</FONT>
<BR><FONT COLOR="#0000A0">&lt;B> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
c&lt;E></FONT>
<BR><FONT COLOR="#0000A0">&lt;E> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
&lt;A>a</FONT>
<BR><FONT COLOR="#0000A0">&lt;E> </FONT><B><FONT FACE="symbol"><FONT COLOR="#000099">®</FONT></FONT></B><FONT COLOR="#0000A0">
$</FONT></UL>
</UL>
</UL>
</UL>
Для этой грамматики первое условие принадлежности грамматики к классу LL(1)
выполняется. Чтобы проверить второе условие, найдем функции ПЕРВ и СЛЕД
для аннулирующих правил.
<UL>СЛЕД(&lt;D>) = СЛЕД(&lt;I>) = ПЕРВ(&lt;B>) <B><FONT FACE="Symbol"><FONT COLOR="#333333"><FONT SIZE=+1>И</FONT></FONT></FONT></B>
ПЕРВ(ca) = {c},
<BR>ПЕРВ(&lt;D>) = ПЕРВ(&lt;I>) = {b},
<BR>СЛЕД(&lt;E>) = СЛЕД(&lt;B>) = СЛЕД(&lt;D>) = {c},
<BR>ПЕРВ(&lt;E>) = ПЕРВ(&lt;A>) = {d,f}.</UL>
Полученные значения показывают, что второе условие выполняется, и что построенная
грамматика является грамматикой типа LL(1).
<BR>Преобразование для грамматики <B><FONT COLOR="#000099">Г <SUB>3. 6</SUB></FONT></B>&nbsp;
закончилось удачно, но так бывает не всегда. Часто исключение правил, нарушающих
первое условие, приводит к появлению аннулирующих правил, для которых нарушается
второе условие.
<BR>Третий вид преобразования предполагает исключение аннулирующих правил
и построение неукорачивающей грамматики. Такие преобразования могут оказаться
полезными, если нарушается второе условие принадлежности грамматики к классу
LL(1).
<BR>&nbsp;</UL>
&nbsp;
<HR WIDTH="100%">
<UL>
<LI>
<A HREF="Part381.htm"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15 ALIGN=ABSCENTER></A><FONT COLOR="#009900"><FONT SIZE=-1>
Пред.Страница&nbsp;<A HREF="Part31.htm">&nbsp;<A HREF="Part39.htm"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15 ALIGN=ABSBOTTOM></A></A>
След.Страница&nbsp;<A HREF="Index3.htm"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15></A>&nbsp;
Раздел&nbsp;<A HREF="../section1/Index.htm#cont"><IMG SRC="GrBall.gif" BORDER=0 HEIGHT=15 WIDTH=15></A>&nbsp;
Содержание</FONT></FONT></LI>
</UL>

</BODY>
</HTML>
